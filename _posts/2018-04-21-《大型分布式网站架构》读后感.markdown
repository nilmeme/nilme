---
layout: single
title: "《大型分布式网站架构》读后感"
date: 2018-04-21 04:16:50 +0800
categories: 读书
excerpt: "This post should display a **header with an overlay image**, if the theme supports it."
header:
  teaser: /assets/images/home_header.jpg
  overlay_image: /assets/images/home_header.jpg
  # overlay_color: "#333"
  # overlay_filter: 0.5 # same as adding an opacity of 0.5 to a black background
  # overlay_filter: rgba(255, 0, 0, 0.5)
  caption: "图片来源: [**Unsplash**](https://unsplash.com)"
  cta_label: "More Info"
  cta_url: "https://unsplash.com"
# sidebar:
#   nav: "docs"
---

一下子买了8本技术书籍，最吸引我的还是这本《大型分布式网站架构》了，那第一本啃的书就它了。

先介绍一下作者：陈康贤，淘宝网工程师，大学毕业后一直在阿里巴巴集团从事软件研发工作，擅长javaweb程序设计，长期在淘宝分布式环境下耳濡目染，目前关注于Java高性能程序设计及性能优化。作者结合自己在阿里巴巴及淘宝网的实际工作经历展开论述，帮助我们了解大型分布式的架构，以及解决问题的思路和方法。

<!--more-->

在实习中也早有接触SOA治理和相关面向服务的架构体系，自己的论文开题报告也对SOA治理做了部分的学习，有幸在工作也使用过Dubbo这个淘宝的开源RPC框架，在使用的过程中也领教到了些许的不同，和传统的web项目相比确实是有不少的优势。作者吧SOA放到了第一章，可见作者对面向服务的体系架构的重视，也说明了SOA在分布式网站架构中的地位。这章讲了RPC框架的由来和具体实现方式。人在阿里巴巴，不提提自己的货不行，当然也提及了阿里巴巴的Dubbo框架，详细的东西没有提及，和作者一样，想要仔细了解Dubbo可以上阿里巴巴的gtihub库查询，讲的非常详细。基于Dubbo也衍生出了不少的产品，其中改造的较为出色的还是开源在开源中国社区git库上的Dubbos。解决一些Dubbo原有的依赖冲突和升级了部分依赖，还加了一些新的特性。但是对于RPC在使用的过程中也有这样的一些自己的感悟，对于比较大型的分布式项目，使用Dubbo这样成熟的框架是没有问题，比如滴的的大部分业务经过SOA治理之后也是解决了原来多比较麻烦的问题，但是对于比较小的项目上这样比较大的RPC框架也还是有有些不妥，在后面的运维上面没准还会出现不少麻烦，分散开发人员的精力去维护一些和业务相关不大的东西，比如zookeeper就是Dubbo带给小项目的新的运维开支，而Duubo成套的管理平台，和监控平台带来的效果也并不突出，反而一样还是带来了运维的开支。但是这也不是说小项目就没有相应的解决方案了，RPC框架还有很多，接触过的PHPRPC就是小项目的不错选择，开源，功能简单使用方便，扩展方便。

第二章作者介绍了一些常见的分布式基础设施。

1. 分布式缓存
2. 持久化存储
   * MySQL
   * HBase
   * Redis （一本相关的书正在啃，有机会再和大家分享）
3. 消息系统（JMS）
4. 垂直化搜索引擎

对于上面的基础设施，作者都是点到为止，简单介绍使用场景和安装使用方式，读来和网上的一些教程也相差不多，各有优劣。也没有我期待希望可以结合淘宝来介绍这些基础设施。但是在更高的角度上去看，你会对一个大型的分布式网站有一个更全面的了解，知道在哪使用了哪些关键技术，解决了哪些问题。可以让自己的思路更加明确，不会这些大型网站再有一种高深莫测感觉，但是话说回来，这些东西在这了，怎么去使用，怎么去让他们融洽的结合在一起，还是一门高深的技术活。

接下来就是安全相关的一章，先介绍Web的攻击手段，常言道：知自知彼，百战不殆嘛。印象最深的还是XSS攻击了，大三那会还在玩泥巴的时候做了阿里的校招笔试题，第一次看到XSS攻击什么，当时就蒙逼了。后面查资料，XSS就是跨站脚本攻击，原理就是在网站提交一些用户的输入的时候，一些恶意用户输入的数据时候输入了一些会影响网站运行的代码段。当这些代码段再次被传回客户端的时候在浏览器解析的时候就会发生问题了。处理也是简单，对用户的特殊输入字符做转意就行了。其他的什么SQL注入啊，DDos攻击就不多说了。然后作者介绍了一些安全的手段，也都是常用的，也还是简单介绍使用场景。

在下面一章偏向运维相关了，系统稳定性。日志、监控、流量控制、性能优化、故障排查。做过运维开发的我也了解一点，为什么说是一点点呢，因为不幸的是我做的是运维开发，说白了还是开发，好几次面试都问我怎么好好的又去做了运维呢？运维这一环节在整个分布式服务框架里面是非常重要的一环，因为分布式应用有大量的应用节点，不是集群就是主备，而在这样大的集群背后下又是大量的服务器设备，没有高效的运维支持，大型的分布式网站就是一张空头支票没法兑现。在读这一章之前，知道日志的重要，但是对日志管理还是不太清楚，当时部门也是渐渐的上了一些解决方案，比如ELK。在运维开发的我没能亲眼看日志分析带来的好处，但是深深体会到了日志的重要程度。

最后一章应该和大型分布式网站架构没有什么关系，但是对这样的大型网站所产生的数据有关系，因为这样的数据里面有大量的有价值的信息，也就是所谓的大数据了。作者介绍了一些大数据的分析工具，自己的涉及面毕竟有限，没能接触大数据的相关东西，所以这章也就饱饱眼福，了解了解。

整书看完没花多少时间，作者讲的通俗易懂，都是基础，就是带领大家了解大型分布式网站的一些基础构成。而对于这些基础设施呢也就是简单的介绍和安装使用。对于涉及到的每一个部分，要想深入学习，都是需要大量的时间和经验的。选择这本书开头呢，也是想先让自己的眼光放的高一点，了解大局，再深入的学习细节。让自己的整个技术图栈脉络更加清楚。有相同目的的这本书可以翻翻，对于书中的安装使用就不要浪费时间了，没有什么意义，到真的要上的时候这会看的东西完全不够，还是要去仔细学习书中提及的每一个小模块。

这里做一个预告，下一次分享应该是How Tomcat Works。预告也是对自己的一个督促，希望大家的支持。

本人不才，也许未能理解书中精华，还希望能与大家交流学习，共同进步。
